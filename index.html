<!doctype html><html lang="es"><head>
  <meta charset='utf-8'/>
  <meta name='viewport' content='width=device-width, initial-scale=1'/>
  <meta http-equiv="Content-Security-Policy"
      content="default-src 'self';
               img-src 'self' data: https:;
               script-src 'self' https:;
               style-src 'self' 'unsafe-inline' https:;
               connect-src 'self' https:;">

  <title>Autopartes Siordia — Catálogo</title>
  <script src='https://unpkg.com/react@18/umd/react.production.min.js' crossorigin></script>
  <script src='https://unpkg.com/react-dom@18/umd/react-dom.production.min.js' crossorigin></script>
  <script src='https://cdn.tailwindcss.com'></script>
  <style>
    body{background:#000;color:#fff}
    .card{border:1px solid #27272a;background:#0a0a0a;border-radius:16px;overflow:hidden}
    .gold{color:#facc15}
    .btn{border-radius:12px;padding:.5rem .75rem;border:1px solid #3f3f46}
    .btn-gold{background:#facc15;color:#000;border-color:#eab308}
  </style>
</head><body>
  <div id="root" class="min-h-screen"></div>
  <script>
    const {useEffect,useMemo,useState} = React;
    const mxn=(n)=> (n==null? "A convenir" : n.toLocaleString("es-MX",{style:"currency",currency:"MXN",maximumFractionDigits:0}));
    function App(){
      const [items,setItems]=useState([]);
      const [q,setQ]=useState(""),[cat,setCat]=useState("todos"),[brand,setBrand]=useState("todos"),[year,setYear]=useState("todos");
      useEffect(()=>{ fetch("./catalogo.json?ts="+Date.now()).then(r=>r.json()).then(setItems).catch(()=>setItems([])); },[]);
      const cats=useMemo(()=>["todos",...new Set(items.map(p=>p.category))].sort(),[items]);
      const brands=useMemo(()=>["todos",...new Set(items.map(p=>p.make))].sort(),[items]);
      const years=useMemo(()=>["todos",...Array.from(new Set(items.map(p=>p.year))).sort((a,b)=>b-a)],[items]);
      const filtered=useMemo(()=>items.filter(p=>{
        if(cat!=="todos"&&p.category!==cat)return false;
        if(brand!=="todos"&&p.make!==brand)return false;
        if(year!=="todos"&&p.year!==Number(year))return false;
        if(q.trim()){
          const t=(p.title+" "+p.make+" "+p.model+" "+p.vehicle+" "+(p.oemCodes||[]).join(" ")).toLowerCase();
          if(!t.includes(q.toLowerCase()))return false;
        }
        return true;
      }),[items,q,cat,brand,year]);
      return React.createElement("div",{className:"max-w-7xl mx-auto px-4 py-6"},
        React.createElement("header",{className:"flex items-center justify-between py-4 border-b border-zinc-800 sticky top-0 bg-black/80 backdrop-blur z-10"},
          React.createElement("div",{className:"flex items-center gap-3"},
            React.createElement("div",{className:"w-9 h-9 rounded-xl",style:{background:"linear-gradient(135deg,#fde047,#f59e0b)"}}),
            React.createElement("div",null,
              React.createElement("h1",{className:"text-xl font-semibold gold"},"Autopartes Siordia"),
              React.createElement("p",{className:"text-xs text-zinc-400 -mt-0.5"},"Catálogo oficial — Pachuca, Hgo.")
            )
          ),
          React.createElement("a",{href:"https://wa.me/526673208191?text="+encodeURIComponent("Hola, vi el catálogo y me interesa una pieza."), target:"_blank", className:"btn btn-gold"},"WhatsApp 6673208191")
        ),
        React.createElement("section",{className:"grid md:grid-cols-6 gap-3 py-4"},
          React.createElement("input",{value:q,onChange:e=>setQ(e.target.value),placeholder:"Buscar modelo, pieza u OEM...",className:"md:col-span-2 rounded-xl bg-zinc-900 border border-zinc-800 px-4 py-2"}),
          React.createElement("select",{value:cat,onChange:e=>setCat(e.target.value),className:"rounded-xl bg-zinc-900 border border-zinc-800 px-3 py-2"}, cats.map(c=>React.createElement("option",{key:c,value:c},c))),
          React.createElement("select",{value:brand,onChange:e=>setBrand(e.target.value),className:"rounded-xl bg-zinc-900 border border-zinc-800 px-3 py-2"}, brands.map(b=>React.createElement("option",{key:b,value:b},b))),
          React.createElement("select",{value:year,onChange:e=>setYear(e.target.value),className:"rounded-xl bg-zinc-900 border border-zinc-800 px-3 py-2"}, years.map(y=>React.createElement("option",{key:y,value:y},y))),
          React.createElement("div",{className:"hidden md:block"})
        ),
        filtered.length===0
          ? React.createElement("p",{className:"text-zinc-400"},"No hay resultados con los filtros actuales.")
          : React.createElement("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6"},
              filtered.map(p=>React.createElement("article",{key:p.id,className:"card"},
                React.createElement("div",{className:"aspect-[16/10] bg-zinc-900 grid place-items-center text-zinc-600 text-sm"},
                  (p.images&&p.images[0])? React.createElement("img",{src:p.images[0],alt:p.title,className:"w-full h-full object-cover"}):"Sin foto"
                ),
                React.createElement("div",{className:"p-4"},
                  React.createElement("h3",{className:"font-medium"}, p.title),
                  React.createElement("p",{className:"text-sm text-zinc-400 mt-1"}, (p.make||"")+" "+(p.model||"")+" "+(p.year||"")),
                  React.createElement("div",{className:"flex items-center justify-between mt-3"},
                    React.createElement("p",{className:"text-lg font-semibold gold"}, mxn(p.price)),
                    React.createElement("a",{href:"https://wa.me/526673208191?text="+encodeURIComponent("Hola, me interesa: "+p.title+" ("+(p.make||"")+" "+(p.model||"")+" "+(p.year||"")+") ID:"+p.id), target:"_blank", className:"btn btn-gold"},"Cotizar")
                  )
                )
              ))
            ),
        React.createElement("footer",{className:"text-center text-xs text-zinc-500 py-8"},"© 2025 Autopartes Siordia — Catálogo")
      );
    }
    ReactDOM.createRoot(document.getElementById("root")).render(React.createElement(App));
  </script>
</body></html>
